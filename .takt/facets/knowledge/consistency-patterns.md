# 要件定義整合性チェック知識

## チェックすべき矛盾パターン

要件定義ドキュメント群の整合性を検証するためのパターンと手法を定義する。

### ID参照整合性

ドキュメント横断でIDが正しく参照されているかを検証する。

| チェック対象 | 方法 | 重大度 |
|------------|------|--------|
| 要求一覧のREQ-IDが機能一覧で参照されているか | 突合 | High |
| 機能一覧のFUNC-IDが画面一覧で参照されているか | 突合 | High |
| 画面一覧のSCR-IDが画面遷移図に存在するか | 図要素突合 | High |
| 存在しないIDへの参照がないか | 逆引き突合 | High |
| IDの採番に欠番がないか | 連番チェック | Low |

### 名称一貫性

| チェック対象 | 方法 | 重大度 |
|------------|------|--------|
| 同じ機能の名称がドキュメント間で統一されているか | 名称突合 | Medium |
| 画面名が画面一覧と画面遷移図で一致しているか | 名称突合 | Medium |
| 業務用語が全ドキュメントで統一されているか | 用語抽出比較 | Medium |
| 略称・正式名称が混在していないか | 表記揺れ検出 | Low |

### 網羅性チェック

| チェック対象 | 方法 | 重大度 |
|------------|------|--------|
| BRDのビジネスゴールが機能一覧でカバーされているか | ゴール→機能トレース | High |
| 要求一覧の全要求が機能一覧に対応しているか | 要求→機能トレース | High |
| 機能一覧の全機能が画面一覧に対応しているか | 機能→画面トレース | Medium |
| 非機能要件の6大項目が全て記載されているか | 項目チェック | High |
| セキュリティ要件がOWASP Top 10を網羅しているか | 項目チェック | Medium |

### 意味的矛盾チェック

| チェック対象 | 例 | 重大度 |
|------------|-----|--------|
| BRDとスコープの矛盾 | BRDで必須とされた機能がスコープ外 | High |
| 非機能要件とBRDの矛盾 | BRDで「24時間運用」、NFRで「深夜メンテ可」 | High |
| セキュリティ要件と機能の矛盾 | 「個人情報なし」だが顧客管理機能あり | High |
| 画面遷移と機能の矛盾 | 遷移図に存在するが機能一覧にない画面操作 | Medium |
| 優先度の矛盾 | BRDで「必須」が機能一覧で「あれば良い」 | Medium |

### 図表と本文の整合性

| チェック対象 | 方法 | 重大度 |
|------------|------|--------|
| フローチャートのノード名が業務フロー本文と一致 | 要素突合 | Medium |
| 状態遷移図の状態名が画面一覧のSCR-IDと対応 | 要素突合 | High |
| 図の遷移条件が本文の業務ルールと一致 | 意味的比較 | Medium |
| ワイヤーフレームの要素が画面一覧の機能と対応 | 要素突合 | Medium |

## チェック結果の報告基準

| 重大度 | 定義 | 対応期限 |
|--------|------|---------|
| High | 要件の正確性に直接影響。設計・実装で問題発生リスク | 即時修正必須 |
| Medium | 品質に影響するが致命的ではない。誤解を招く可能性 | 次回改訂時に修正推奨 |
| Low | 軽微な不一致。実務への影響は小さい | 時間があれば修正 |

## トレーサビリティマトリクスの構造

上流→下流の追跡を以下の構造で行う。

| 追跡パス | 用途 |
|---------|------|
| BRDゴール → REQ-ID | ビジネスゴールの要求へのマッピング |
| REQ-ID → FUNC-ID | 要求の機能への分解 |
| FUNC-ID → SCR-ID | 機能の画面への割り当て |
| REQ-ID → NFR-ID | 非機能要求の詳細化 |
| NFR-ID → SEC-ID | セキュリティ要件の詳細化 |
